# 对进程的理解

进程是一个独立的程序正在处于运行的状态，它是一个占用CPU、内存、IO资源的实体。

Linux 系统启动后，不会直接管理进程，而是会交给 init 进程管理进程，在一些 Linux 发行版中，比如 CentOS，这个 init 进程就是 systemd。

如果一个进程的父进程退出了，那么它的父进程就会变成 systemd。

systemd 会管理进程的生命周期，包括处理进程退出。

如果在进程退出时，它的父进程没有管它，它就一直处于僵尸状态，这就是僵尸进程的出现原因。



## 进程的元信息

**操作系统的角度来说，进程描述为一个结构体---->PCB（在Linux下PCB位task_struct）**

task_struct是Linux内核的一种数据结构，他会被装载到RAM（内存）里并且包含着进程的信息：

- **标示符 pid：描述本进程的唯一标示符，用来区别其他进程**
- **状态：任务状态，退出代码，退出信号等**
- **优先级：相对于其他进程的优先级**
- **程序计数器：程序中即将被执行的下一条指令的地址**
- **内存指针：包括程序代码和进程相关数据的指针，还有和其他进程共享的内存块的指针**
- **上下文数据：进程执行时处理器的寄存器中的数据**
- **I/O状态信息：包括显示的I/O请求，分配给进程的I/O设备和被进程使用的文件列表**
- **记账信息：可能包括处理器时间总和，使用的时钟数总和，时间限制，记账号等**
- **其他信息**



## 如何查看进程

```bash
$ ls /proc/
$ ps aux
$ ps ef
```

另外在 `top` 命令中可以看到各种状态的进程的数量。



## 进程状态及转换

**进程的七大状态：（linux内核里有时候也叫任务）**

- **R--->运行状态**
- **S--->睡眠状态（可中断睡眠状态）**
- **D--->磁盘休眠状态（不可中断睡眠状态）**
- **T--->停止状态**
- **X--->死亡状态**
- **t --->追踪状态**
- **Z--->僵尸状态（很重要，必须理解）**

























