# Kerberos 用户手册

官方文档：https://web.mit.edu/kerberos/krb5-latest/doc/user/index.html



## 密码管理

密码是Kerberos验证身份的唯一方法，应该经常更改密码，尤其是在您认为有人发现了密码的任何时候。

修改密码：

```bash
$ sudo kpasswd
```

也可以修改指定用户的密码：

```bash
$ sudo kpasswd admin
```



#### 授权访问账户

如果需要授予某人访问登录帐户的权限，则可以通过Kerberos进行登录，而无需告知该人您的密码。只需在主目录中创建一个名为 `.k5login`的文件。该文件应包含您要授予访问权限的每个人的Kerberos主体。每个主体必须位于单独的行上。这是一个示例.k5login文件：

```
jennifer@ATHENA.MIT.EDU
david@EXAMPLE.COM
```

该文件将允许用户jennifer和david使用您的用户ID，前提是他们在各自的领域中拥有Kerberos票证。如果要登录到网络上的其他主机，则需要在每个这些主机上的.k5login文件中包括自己的Kerberos主体。

使用.k5login文件比提供密码安全得多，因为：

- 只需在.k5login文件中删除主体即可随时取消访问。
- 尽管该用户可以在一台特定主机（如果通过例如NFS共享.k5login文件，则可以在一组主机上）上访问您的帐户，但该用户不会继承您的网络特权。
- Kerberos会记录谁获得票证的日志，因此系统管理员可以在必要时找出谁可以在特定时间使用您的用户ID。

一种常见的应用程序是在根目录的主目录中包含一个.k5login文件，从而使该机器可以通过根目录访问Kerberos主体。这使系统管理员可以允许用户成为本地root用户，或以root用户远程登录，而无需提供root密码，也无需任何人通过网络键入root密码。



## Ticket 管理

在许多系统上，Kerberos是内置在登录程序中的，登录时您会自动获得票证。其他程序（例如ssh）可以将票证副本转发到远程主机。其中大多数程序在退出时也会自动销毁您的票证。

但是，麻省理工学院（MIT）建议您一定要在销毁Kerberos票证时明确销毁它们。确保这种情况发生的一种方法是将 kdestroy 命令添加到您的 .logout 文件中。另外，如果您要离开计算机，并且担心使用您的许可的入侵者，那么销毁票证的所有副本或使用锁定屏幕的屏幕保护程序是最安全的。























