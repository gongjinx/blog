# ES 与 Lucene 的关系

ES 的底层是基于 Lucene 的，那么 ES 中是怎么使用 Lucene 的呐？

在 ES 中，分片是一个最小级别的“工作单元”，它保存了索引中所有数据的一部分，每个“分片”分为主分片和副本分片。同时每一个分片还是一个Lucene实例，其本身就是一个完整的搜索引擎。我们的文档被存贮在分片中，并且在分片中被索引，但是应用程序不会直接和分片进行交互，而是跟索引进行交互。这里的索引就可以被认为是一个或多个分片的“逻辑命名空间”。

一个 Lucene 对应一个分片！！！而不是一个 ES 节点。

