# Redis 分布式锁

Redis 的分布式锁主要是通过 SETNX 来实现的。下面来看一个例子：

首先上锁：

```
> SETNX one onevalue
```

上锁完成后，在对 one 进行设置就会失败。

释放锁：

```
> DEL one
```

锁超时，设置 key 的超时时间，以保证即使锁没有被显式释放，锁也可以在一定时间后自动释放，避免资源被永远锁住。

```
> EXPIRE one 100
```



